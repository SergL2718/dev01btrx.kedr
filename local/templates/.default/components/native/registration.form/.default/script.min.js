"use strict";const RegistrationForm={component:"native:registration.form",btnRegister:document.forms.registration.elements.register,construct:function(){this.btnRegister.addEventListener("click",this.register,false)},register:function(a){a.preventDefault();a.stopPropagation();let form={name:document.forms.registration.elements.name.value,lastName:document.forms.registration.elements.lastName.value,email:document.forms.registration.elements.email.value,login:document.forms.registration.elements.login.value,password:document.forms.registration.elements.password.value,confirmPassword:document.forms.registration.elements.confirmPassword.value};BX.UI.Notification.Center.notify({content:"Проверяем данные",autoHideDelay:3000});BX.ajax.runComponentAction(RegistrationForm.component,"registration",{mode:"class",data:{request:form}}).then(function(b){if(b.status!=="success"){BX.UI.Notification.Center.notify({content:"Что-то пошло не так",autoHideDelay:3000});return}b=b.data;if(b.error){if(b.type==="USER_FOUND"){BX.UI.Notification.Center.notify({content:b.error,autoHide:true,autoHideDelay:8000,actions:[{title:"Авторизация",events:{click:function(){window.location.href="/login/"}}}]});return}if(Array.isArray(b.error)===true){for(let i=0;i<b.error.length;i++){BX.UI.Notification.Center.notify({content:b.error[i],autoHideDelay:3000})}}else{BX.UI.Notification.Center.notify({content:b.error,autoHideDelay:3000})}return}let elements=document.forms.registration.querySelector(".elements");let content=document.forms.registration.querySelector(".content");elements.style.display="none";content.innerHTML=b.message;content.style.display="block"})}};RegistrationForm.construct();